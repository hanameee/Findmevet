{"filter":false,"title":"chat_rooms_channel.rb","tooltip":"/app/channels/chat_rooms_channel.rb","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":12,"column":3},"action":"insert","lines":["class ChatRoomsChannel < ApplicationCable::Channel","  def subscribed","    stream_from \"chat_rooms_#{params['chat_room_id']}_channel\"","  end","","  def unsubscribed","    # Any cleanup needed when channel is unsubscribed","  end","","\tdef send_message(data)","\t  current_user.messages.create!(body: data['message'], chat_room_id: data['chat_room_id'])","\tend","end"],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":12,"column":3},"end":{"row":12,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1501915818758,"hash":"8f09f8ad6ce8162b760b50165040248113f12d84"}