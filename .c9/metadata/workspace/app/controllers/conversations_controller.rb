{"changed":false,"filter":false,"title":"conversations_controller.rb","tooltip":"/app/controllers/conversations_controller.rb","value":"class ConversationsController < ApplicationController\n\tbefore_action :authenticate_user!\n\n\tdef index\n\t\t@users = User.all\n\t\t@conversations = Conversation.involving(current_user)\n\tend\n\n\tdef create\n\t\tif Conversation.between(params[:sender_id], params[:recipient_id]).present?\n\t\t\t@conversation = Conversation.between(params[:sender_id], params[:recipient_id]).first\n\t\telse\n\t\t\t@conversation = Conversation.create(conversation_params)\n\t\tend\n\n\t\tredirect_to conversation_messages_path(@conversation)\n\tend\n\t\n\tdef show\n\t\t@vet = Vet.find(params[:id])\n\t\t@users = User.all\n\t\t@conversations = Conversation.involving(current_user)\n\tend\n\n\tprivate\n\n\t\tdef conversation_params\n\t\t\tparams.permit(:sender_id, :recipient_id)\n\t\tend\n\nend","undoManager":{"mark":-1,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":5,"column":22},"end":{"row":5,"column":22},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":true,"wrapToView":true},"firstLineState":0},"timestamp":1501937537000}